<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>willeponken</title>
    <base href="https://willeponken.me">
    <link rel="canonical" href="https://willeponken.me/categories/gentoo/">
    <link href="https://willeponken.me/categories/gentoo/index.xml" rel="alternate" type="application/rss+xml" title="willeponken" />
    <link rel="shortcut icon" type="image/png" href="https://willeponken.me/favicon.png">
    <link rel="stylesheet" href="https://willeponken.me/css/main.css" />
  </head>
  <body>
    <header>
      <a href="https://willeponken.me/">
        <h1>willeponken</h1>
        <small>William Wennerstr√∂m</small>
      </a>
      <navbar>
        <ul>
          <li><a href="https://willeponken.me/posts">Posts</a></li>
          <li><a href="https://github.com/willeponken">Git</a></li>
          <li><a href="http://hype.willeponken.me">Hyperboria</a></li>
        </ul>
      </navbar>
    </header>

<article class="clearfix">
  <h1>Categories</h1>
  <h2>Posts in Gentoo</h2>
  <section>
    <ul>
      
      <li class="postlist">
  <h4><a href="https://willeponken.me/posts/gentoo_with_dm-crypt_luks/">Gentoo with DM-Crypt LUKS and EFI (Work In Progress)</a></h4>
  <small>Sat, May 21, 2016</small>
  <p>This article serves as somekind of meta instruction for installing Gentoo with DM-Crypt LUKS. The guide is heavily based upon Sakaki&rsquo;s EFI Install Guide: https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide If this is your first time installing Gentoo it&rsquo;s probably a better idea to follow Sakaki&rsquo;s EFI Install Guide, or follow Gentoo&rsquo;s Handbook: https:/wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation Burn Minimal Installation CD to USB Download the Minimal Installation CD from: https://www.gentoo.org/downloads/ Write the ISO to the USB drive using DD: dd if=/path/to/image.iso of=/dev/sdX bs=8192k Boot and connect to a network Either connect a network cable, or connect to a WLAN using: iwconfig eth0 essid &lt;ssid-of-network&gt; # set hex WEP key iwconfig eth0 key &lt;hex-key&gt; # or use ASCII WEP key iwconfig eth0 key s:&lt;ascii-key&gt; Prepare USB-key and its filesystem Check which USB storage device to use: lsblk After you have found the USB storage device create a primary partition on it: parted -a optimal /dev/sdY Then inside parted issue these commands: (parted) mklabel gpt (parted) mkpart primary fat32 0% 100% (parted) set 1 BOOT on (parted) quit Format the USB storage device to fat32: mkfs.vfat -F32 /dev/sdY1 Temporarily mount the partition: mkdir /tmp/efiboot mount -t vfat /dev/sdY1 /tmp/efiboot Create Keyfile for LUKS export GPG_TTY=$(tty) dd if=/dev/urandom bs=8388607 count=1 | gpg --symmetric --cipher-algo AES256 --output /tmp/efiboot/&lt;hostname&gt;-luks-key.gpg Create GPT partition on main storage Find the main storage drive using: lsblk Run parted to create the GPT partition: parted -a optimal /dev/sdX Inside parted issue: (parted) unit s (parted) print free ...</p>
  <a href="https://willeponken.me/posts/gentoo_with_dm-crypt_luks/"><nobr>Read more...</nobr></a>
</li>

      
    </ul>
  </section>
</article>
    <footer>
      <address>
        <small>
          <strong>E-mail:</strong> {myfirstname}@willeponken.me<br />
          <strong>Public key:</strong> <a href="https://keybase.io/willeponken/key.asc">keybase.io/willeponken/key.asc</a><br />
        </small>
      </address>
    </footer>
  </body>

</html>

